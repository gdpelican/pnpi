<% update = f.object.id.present? %>

<%# raise f.object.sample.to_json %>
<%= link_to image_tag('/images/pdf.png'), f.object.sample_url, target: :_blank, title: f.object.picture_file_name, class: 'view-file' if f.object.sample? && f.object.picture_file_name %>
<%= string_input f, :picture, :file, (update ? 'upload-with-file' : 'select-full' ), label: true if f.object.sample? %>
<%= string_input f, :name, :string unless f.object.person? %>

<% case type %>
<% when :person %>
	<%= f.input :signup_token, as: :hidden, input_html: { value: f.object.signup_token } %>
	<%= string_input f, :first_name, :string, 'half-pad' %>
	<%= string_input f, :last_name, :string, 'half' %>
	<%= string_input f, :email, :email %>
	<%= string_input f, :phone, :phone, 'full', css: 'phone' %>
	<%= string_input f, :website, :url %>
	<%= string_input f, :preview, :string, 'full', placeholder: '140 character blurb about yourself. . .' %>
<% when :place %>
	<%= string_input f, :address, :string %>
	<%= string_input f, :preview, :string, 'full', placeholder: '140 character description. . .' %>
<% when :thing %>
	<%= string_input f, :price, :string, 'fifth', placeholder: 'Rental price. . .', css: 'currency' %>
	<%= select_input f, :period, @periods, placeholder: 'Rental period. . .', field_size: 'select-four-fifth', value: f.object.selected_period %>
	<%= string_input f, :preview, :string, 'full', placeholder: '140 character description. . .' %>
<% when :sample %>
<% end %>

<%= string_input f, :description, :text, 'full', placeholder: 'Enter description. . .' %>

<%= render partial: 'resources/forms/possessions', locals: { f: f } if f.object.person? && f.object.id.present? %>